<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGFPlots ‰ª£Á†ÅÁîüÊàêÂô®</title>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="main.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="nav">
            <a href="https://logcreative.github.io/LaTeXSparkle/" target="_blank" class="logo"><svg style="fill: black; font-family: Times,'ÂÆã‰Ωì'" width="144" height="35">
                <text x="0" y="28" style="font-size: x-large">ÂÉè</text>
                <text x="21" y="23" style="font-size:large">Ê®°</text>
                <text x="36" y="33" style="font-size: x-large">ÂÉè</text>
                <text x="56" y="28" style="font-size:x-large">Ê†∑</text>
                <text x="85" y="28" style="font-size:x-large">L</text>
                <text x="92" y="23" style="font-size:large">A</text>
                <text x="102" y="28" style="font-size:x-large">T</text>
                <text x="114" y="33" style="font-size:x-large">E</text>
                <text x="126" y="28" style="font-size:x-large">X</text>
                </svg></a> ¬∑ <a href="https://github.com/LogCreative/PGFPlotsEdt" target="_blank">\(\rm PGFPlots\) ‰ª£Á†ÅÁîüÊàêÂô®</a> ¬∑ ÂéüÂûãÊú∫
    </div>
    <div class="container" id="app">
        <div class="properties">
            <div id="settings">
                <details>
                    <summary>
                        ËÆæÂÆö
                    </summary>
                    <input type="checkbox" onclick="chnClick(this)" checked="true">ÂêØÁî®‰∏≠Êñá</input>
                    <input type="checkbox" onclick="pinClick(this)" v-model="enablepin">ÂêØÁî®Ê†áÊ≥®</input>
                    <input type="checkbox" v-model="td">ÂêØÁî®‰∏âÁª¥ÂèÇÊï∞</input>
                    <input type="checkbox" v-model="enableLegend">ÂêØÁî®Âõæ‰æã</input>
                    <div>
                        <lib :id="1" category="tikz" chname="Ê†áËÆ∞Â∫ì" libname="plotmarks"></lib>
                        <lib :id="2" category="pgfplots" chname="È¢úËâ≤Â∫ì" libname="colorbrewer"></lib>
                        <lib :id="3" category="pgfplots" chname="ÁªüËÆ°Â∫ì" libname="statistics"></lib>
                        <lib :id="4" category="pgfplots" chname="Èó¥ÈöôÂ°´ÂÖÖÂ∫ì" libname="fillbetween"></lib>
                    </div>
                </details>
                <details>
                    <summary>
                        Êï∞ÊçÆ
                    </summary>
                    <div id="addtooltip">
                        <button>+ Á≥ªÂàó</button>
                        <div id="addbuttons">
                            <button onclick="addexprClick()">ÂáΩÊï∞</button><br>
                            <button onclick="addcoordClick()">ÂùêÊ†á</button><br>
                            <button onclick="addtableClick()">Êñá‰ª∂</button>
                            <button onclick="addnodeClick()" v-show="enablepin">Ê†áÊ≥®</button>
                        </div>
                    </div>
                    <div id="exprs">
                        <div v-for="comp in expressions">
                            <expression :id="comp.id"></expression>
                        </div>
                    </div>
                    <div id="coords">
                        <div v-for="comp in coordinates">
                            <coordinate :id="comp.id"></coordinate>
                        </div>
                    </div>
                    <div id="tables">
                        <div v-for="comp in tableps">
                            <tablep :id="comp.id"></tablep>
                        </div>
                    </div>
                    <div id="nodes">
                        <div v-for="comp in nodeps">
                            <node :id="comp.id"></node>
                        </div>
                    </div>
                </details>
                <details>
                    <summary>
                        ÂùêÊ†áÁ≥ª
                    </summary>
                    <div>
                        <tr><td>Â¢ûË°•ÂèÇÊï∞</td><td></td><td><input type="text" v-model="surplusparam" placeholder="ÂèÇÊï∞"></input></td></tr>
                            <property chname="ÂÆΩÂ∫¶" propkey="width"></property>    
                            <property chname="È´òÂ∫¶" propkey="height"></property>
                            <propertyselect chname="Â≠óÂè∑" propkey="font" :options="['\\tiny','\\scriptsize','\\footnotesize','\\small','\\normalsize','\\large','\\Large','\\LARGE','\\huge','\\Huge']"></propertyselect>    
                            <property chname="Ê†áÈ¢ò" propkey="title"></property>
                        <div v-show="enableLegend">
                            <propertyselect chname="Âõæ‰æã‰ΩçÁΩÆ" propkey="legend pos" :options="['south west','south east','north west','north east','outer north east']"></propertyselect>    
                        </div>
                            <tr>xËΩ¥</tr>
                            <property chname="ËΩ¥È¢ò" propkey="xlabel"></property>
                            <property chname="ÊúÄÂ∞è" propkey="xmin"></property>
                            <property chname="ÊúÄÂ§ß" propkey="xmax"></property>
                            <propertyselect chname="ÁÆ≠Â§¥" propkey="axis x line" :options="['top','middle','bottom']"></propertyselect>
                            <tr>yËΩ¥</tr>
                            <property chname="ËΩ¥È¢ò" propkey="ylabel"></property>
                            <property chname="ÊúÄÂ∞è" propkey="ymin"></property>
                            <property chname="ÊúÄÂ§ß" propkey="ymax"></property>
                            <propertyselect chname="ÁÆ≠Â§¥" propkey="axis y line" :options="['left','middle','right']"></propertyselect>
                        <div v-show="td">
                            <tr>zËΩ¥</tr>
                            <property chname="ËΩ¥È¢ò" propkey="zlabel"></property>
                            <property chname="ÊúÄÂ∞è" propkey="zmin"></property>
                            <property chname="ÊúÄÂ§ß" propkey="zmax"></property>
                            <propertyselect chname="ÁÆ≠Â§¥" propkey="axis z line" :options="['left','middle','right']"></propertyselect>
                        </div>
                    </div>
                </details>
            </div>
            <button v-on="{click: compile}" id="compileBtn">ÁºñËØë</button><br>
            <iframe v-bind:src="curl" id="compilePrev"></iframe>
        </div>
        <div id="textext">
            <div id="auto">
                <textarea v-model="premable" readonly="readonly" style="min-height: 130px;"></textarea>
                <textarea v-model="content" id="texContent" readonly="readonly" style="min-height: 200px;">\begin{axis}[{{param}}]
        {{series}}
    \end{axis}</textarea>
                <textarea v-model="suffix" readonly="readonly" style="min-height: 50px;"></textarea>
                <button v-clipboard:copy="content">Â§çÂà∂ÁªòÂõæ‰ª£Á†Å</button>
                <button v-clipboard:copy="file">Â§çÂà∂ÂÖ®ÈÉ®‰ª£Á†Å</button>
                <button onclick="gomanual()">ÊâãÂä®ÁºñËæë‚ö†</button>
            </div>
            <textarea id="manualfile" style="display:none; min-height: 450px;"></textarea>
        </div>
        
    </div>
    <template id="libtpl">
        <td><input type="checkbox" v-model="enabled" @change="onlibchange">{{chname}}</input></td>
    </template>
    <template id="exprtpl">
        <tr v-show="enabled">
            <td><button class="deleteBut" @click="deleteComp">X</button></td>
            <td class="type">ÂáΩÊï∞</td>
            <td><input type="text" class="legend" placeholder="Á≥ªÂàóÂêç" v-model="legend" @keyup="on_change"></td>
            <td><input type="checkbox" class="td" @click="ontdchange" v-model="etd">3D</td>
            <td><input type="checkbox" class="td" @click="onpchange" v-model="plus">+</td>
            <td><input type="checkbox" class="cycle" @click="oncchange" v-model="cycle">üîÑ</td>
            <td><input type="text" class="param" placeholder="ÂèÇÊï∞" v-model="param" @keyup="on_change"></td>
            <td><input type="text" class="coord" placeholder="ÂáΩÊï∞" v-model="expression" @keyup="on_change" v-minimize="etd"></td>
            <td v-show="etd"><input type="text" class="coord2" placeholder="yËΩ¥" v-model="expression2" @keyup="on_change"></td>
            <td v-show="etd"><input type="text" v-model="expression3" class="coord3" placeholder="zËΩ¥" @keyup="on_change"></td>
        </tr>
    </template>
    <template id="coordtpl">
        <tr v-show="enabled">
            <td><button class="deleteBut" @click="deleteComp">X</button></td>
            <td class="type">ÂùêÊ†á</td><td><input type="text" class="legend" placeholder="Á≥ªÂàóÂêç" v-model="legend" @keyup="on_change"></td>
            <td><input type="checkbox" class="td" @click="ontdchange" v-model="etd" >3D</td>
            <td><input type="checkbox" class="td" @click="onpchange" v-model="plus">+</td>
            <td><input type="checkbox" class="cycle" @click="oncchange" v-model="cycle">üîÑ</td>
            <td><input type="text" class="param" v-model="param" @keyup="on_change" placeholder="ÂèÇÊï∞"></td>
            <td><input type="text" class="coord" v-model="data" @keyup="on_change" placeholder="ÂùêÊ†áÊï∞ÊçÆ"></td>
        </tr>
    </template>
    <template id="tableptpl">
        <tr v-show="enabled">
            <td><button class="deleteBut" @click="deleteComp">X</button></td>
            <td class="type">Êñá‰ª∂</td><td><input type="text" class="legend" placeholder="Á≥ªÂàóÂêç" v-model="legend" @keyup="on_change"></td>
            <td><input type="checkbox" class="td" @click="ontdchange" v-model="etd">3D</td>
            <td><input type="checkbox" class="td" @click="onpchange" v-model="plus">+</td>
            <td><input type="checkbox" class="cycle" @click="oncchange" v-model="cycle">üîÑ</td>
            <td><input type="text" class="param" v-model="param" @keyup="on_change" placeholder="ÂèÇÊï∞"></td>
            <td><input type="text" class="param" v-model="tableparam" @keyup="on_change" placeholder="Ë°®ÂèÇÊï∞"></td>
            <td><input type="text" class="coord" v-model="fileName" placeholder="Êï∞ÊçÆÊñá‰ª∂" style="display:none"></td>
            <td><input type="text" class="coord" v-model="datat" @keyup="on_change" placeholder="Êï∞ÊçÆË°®" style="display:none"></td>
            <td><input type="file" id="files" class="fileChooser" @change="readFile"></td>
        </tr>
    </template>
    <template id="nodetpl">
        <tr v-show="enabled">
            <td><button class="deleteBut" @click="deleteComp">X</button></td>
            <td class="type">Ê†áÊ≥®</td><td><input type="text" class="legend" placeholder="Ê†áÊ≥®" v-model="pin" @keyup="on_change"></td>
            <td><input type="checkbox" class="td" @click="ontdchange" v-model="etd">üü®</td>
            <!-- <td><input type="checkbox" class="td" @click="onpchange" v-model="plus">+</td>
            <td><input type="checkbox" class="cycle" @click="oncchange" v-model="cycle">üîÑ</td> -->
            <td><input type="text" class="param" v-model="param" @keyup="on_change" placeholder="ÊóãËΩ¨ËßíÂ∫¶" v-show="etd"></td>
            <td><input type="text" class="coord" v-model="pos" @keyup="on_change" placeholder="Ê†áÊ≥®‰ΩçÁΩÆ"></td>
        </tr>
    </template>
    <template id="propertyselecttpl">
        <tr>
            <td>{{chname}}</td>
            <td>
                <select v-model="value" @change="on_change">
                    <option v-for="opt in options" :value="opt">{{opt}}</option>
                </select>
            </td>
        </tr>
    </template>
    <template id="propertytpl">
        <tr>
            <td>{{chname}}</td>
            <td style="display:none">{{propkey}}</td><td><input type="text" v-model="value" @keyup="on_change"></td>
        </tr>
    </template>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue-clipboard2/0.3.1/vue-clipboard.js"></script>
    <script src="main.js"></script>
</body>
</html>