<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PGFPlots 代码生成器</title>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/normalize/8.0.1/normalize.min.css">
    <link rel="stylesheet" href="web/css/main.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <div class="nav">
            <a href="https://logcreative.github.io/LaTeXSparkle/" target="_blank" class="logo"><svg style="fill: black; font-family: Times,'宋体'" width="144" height="35">
                <text x="0" y="28" style="font-size: x-large">像</text>
                <text x="21" y="23" style="font-size:large">模</text>
                <text x="36" y="33" style="font-size: x-large">像</text>
                <text x="56" y="28" style="font-size:x-large">样</text>
                <text x="85" y="28" style="font-size:x-large">L</text>
                <text x="92" y="23" style="font-size:large">A</text>
                <text x="102" y="28" style="font-size:x-large">T</text>
                <text x="114" y="33" style="font-size:x-large">E</text>
                <text x="126" y="28" style="font-size:x-large">X</text>
                </svg></a> · <a href="https://github.com/LogCreative/PGFPlotsEdt" target="_blank">\(\rm PGFPlots\) 代码生成器</a> · 招美工
    </div>
    <div class="container" id="app">
        <div class="properties">
            <details>
                <summary>
                    设定
                </summary>
                <input type="checkbox" onclick="chnClick(this)" checked="true">启用中文</input>
                <input type="checkbox" v-model="td">启用三维参数</input>
                <input type="checkbox" v-model="enableLegend">启用图例</input>
            </details>
            <details>
                <summary>
                    数据
                </summary>
                <div id="addtooltip">
                    <button>+ 系列</button>
                    <div id="addbuttons">
                        <button onclick="addexprClick()">函数</button><br>
                        <button onclick="addcoordClick()">坐标</button><br>
                        <button onclick="addtableClick()">文件</button>
                    </div>
                </div>
                <div id="exprs">
                    <div v-for="comp in expressions">
                        <expression :id="comp.id"></expression>
                    </div>
                </div>
                <div id="coords">
                    <div v-for="comp in coordinates">
                        <coordinate :id="comp.id"></coordinate>
                    </div>
                </div>
                <div id="tables">
                    <div v-for="comp in tableps">
                        <tablep :id="comp.id"></tablep>
                    </div>
                </div>
            </details>
            <details>
                <summary>
                    坐标系
                </summary>
                <div>
                    <!-- <table id="propcon"> -->
                        <property chname="标题" propkey="title"></property>
                    <div v-show="enableLegend">
                        <property chname="图例位置" propkey="legend pos"></property>    
                    </div>
                        <tr>x轴</tr>
                        <property chname="标签" propkey="xlabel"></property>
                        <property chname="最小" propkey="xmin"></property>
                        <property chname="最大" propkey="xmax"></property>
                        <tr>y轴</tr>
                        <property chname="标签" propkey="ylabel"></property>
                        <property chname="最小" propkey="ymin"></property>
                        <property chname="最大" propkey="ymax"></property>
                    <!-- </table> -->
                    <div v-show="td">
                        <tr>z轴</tr>
                        <property chname="标签" propkey="zlabel"></property>
                        <property chname="最小" propkey="zmin"></property>
                        <property chname="最大" propkey="zmax"></property>
                    </div>
                </div>
                <tr><td>增补参数</td><input type="text" v-model="surplusparam"></input></tr>
            </details>
            <button v-on="{click: compile}">编译</button><br>
            <iframe v-bind:src="curl" id="compilePrev"></iframe>
        </div>
        <div class="textext">
            <textarea v-model="premable"></textarea>
            <textarea v-model="content" id="texContent">\begin{axis}[{{param}}]
    {{series}}
\end{axis}</textarea>
            <textarea v-model="suffix"></textarea>
            <button v-clipboard:copy="content">复制图表内容</button>
            <button v-clipboard:copy="file">复制全部内容</button>
        </div>
    </div>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.11/vue.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/vue-clipboard2/0.3.1/vue-clipboard.js"></script>
    <script src="web/js/main.js"></script>
</body>
</html>